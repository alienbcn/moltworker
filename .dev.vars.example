# Copy this to .dev.vars and fill in your values
# .dev.vars is gitignored and used by wrangler dev

# AI Provider (at least one required)
ANTHROPIC_API_KEY=sk-ant-...
# OPENAI_API_KEY=sk-...

# Cloudflare AI Gateway (alternative to direct provider keys)
# CLOUDFLARE_AI_GATEWAY_API_KEY=your-provider-api-key
# CF_AI_GATEWAY_ACCOUNT_ID=your-account-id
# CF_AI_GATEWAY_GATEWAY_ID=your-gateway-id
# CF_AI_GATEWAY_MODEL=workers-ai/@cf/meta/llama-3.3-70b-instruct-fp8-fast

# Legacy AI Gateway (still supported)
# AI_GATEWAY_API_KEY=your-key
# AI_GATEWAY_BASE_URL=https://gateway.ai.cloudflare.com/v1/{account_id}/{gateway_id}/anthropic

# Local development mode - skips Cloudflare Access auth and bypasses device pairing
# DEV_MODE=true

# E2E test mode - skips Cloudflare Access auth but keeps device pairing enabled
# Use this for automated tests that need to test the real pairing flow
# E2E_TEST_MODE=true

# Enable debug routes at /debug/* (optional)
# DEBUG_ROUTES=true

# Optional - set a fixed token instead of auto-generated
MOLTBOT_GATEWAY_TOKEN=dev-token-change-in-prod

# Cloudflare Access configuration for /_admin and /api routes
# Required for admin UI and device pairing API in production
# CF_ACCESS_TEAM_DOMAIN=myteam.cloudflareaccess.com
# CF_ACCESS_AUD=your-application-audience-tag

# Optional chat channels
# TELEGRAM_BOT_TOKEN=optional
# DISCORD_BOT_TOKEN=optional

# ===== ADVANCED: Web Search, Memory & Automation (70% â†’ 100%) =====

# Web Search - Brave Search API for real-time information
# Get key from: https://api.search.brave.com/
BRAVE_SEARCH_API_KEY=your-brave-search-api-key

# Semantic Memory - Google Gemini Embeddings (recommended)
# Get key from: https://console.cloud.google.com/
GOOGLE_API_KEY=your-google-api-key

# Alternative: OpenAI Embeddings (if using OpenAI API key above)
# OPENAI_EMBEDDINGS_ENABLED=true

# ===== Browser Management (Memory Optimization) =====

# Auto-cleanup of inactive Chromium processes
# Prevents memory leaks in Cloudflare Sandbox
BROWSER_CLEANUP_ENABLED=true
BROWSER_MAX_IDLE_MS=1800000          # 30 minutes before killing inactive browser
BROWSER_CHECK_INTERVAL_MS=300000     # Check every 5 minutes

# ===== Email Reporting (Hourly System Health) =====

# MailerSend API (recommended - free tier available)
# Get key from: https://www.mailersend.com/
MAILER_SEND_API_KEY=your-mailersend-api-key

# Alternative: SendGrid
# SENDGRID_API_KEY=SG.your-sendgrid-key

# System report settings
# Reports sent hourly to this address with: CPU, Memory, Gateway status, Errors
SYSTEM_REPORT_EMAIL=you@example.com

# ===== Telegram Configuration (for monetization) =====

# Telegram DM Policy: 
#   pairing  = Only approved users (device pairing required)
#   open     = Any user can send messages
# Start with 'pairing' for security, change to 'open' for public monetization
TELEGRAM_DM_POLICY=pairing

# Optionally restrict to specific user IDs (comma-separated)
# TELEGRAM_DM_ALLOW_FROM=123456789,987654321
